<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout(~{::body},~{::title})">
<head><title>Formulario</title></head>

<body>
<div th:fragment="title" th:text="${titleForm}">Formulario</div>

<div th:fragment="body" class="container">

  <!-- mensajes flash -->
  <div th:if="${error}"   class="alert alert-danger"  th:text="${error}"></div>
  <div th:if="${message}" class="alert alert-success" th:text="${message}"></div>

  <!-- ===================  Formulario dinámico  =================== -->
  <form th:action="@{${postUrl}}" method="post" class="w-50">

    <!-- Cada elemento de ‘fields’ es un map {label,name} -->
    <div th:each="field : ${fields}" class="mb-2">
      <label class="form-label" th:text="${field.label}"></label>
      <input class="form-control" th:name="${field.name}" />
    </div>

    <button class="btn btn-success">Guardar</button>
  </form>
</div>
</body>
</html>
